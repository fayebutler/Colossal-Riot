<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>YOURPROJECTNAMEGOESHERE: Text Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Text Class Reference</h1><!-- doxytag: class="Text" -->
<p><code>#include &lt;<a class="el" href="_text_8h_source.html">Text.h</a>&gt;</code></p>

<p><a href="class_text-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_text.html#a5454ef14fc670f5ef68bdbe2fe2fad3b">Text</a> (const std::string &amp;_f, int _size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ctor must pass in a ready constructed QFont make sure the size and emphasis is set before doing this as you can't modify the font after construction and you will need a new <a class="el" href="class_text.html">Text</a> class for each different type of text / font  <a href="#a5454ef14fc670f5ef68bdbe2fe2fad3b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_text.html#a2d49e5c280e205125b149f7777ae30c7">~Text</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">dtor will clean / remove textures and VAO's for the class  <a href="#a2d49e5c280e205125b149f7777ae30c7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_text.html#a3d0591d0b3a6bd73543cb8637fbe91e5">renderText</a> (float _x, float _y, const std::string &amp;_text) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">render the text to the screen at _x,_y where 0,0 is top left of the screen all positioning is relative to the screen size set with the setScreenSize method so it is important that changes in screen size are updated. These value will be sent to the nglTextShader to be rendered (see source )  <a href="#a3d0591d0b3a6bd73543cb8637fbe91e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_text.html#adf20a23bc781824e83dc50c121f56aea">setScreenSize</a> (int _w, int _h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set the size of the screen to scale our font to fit correctly this basically creates the orthographic projection needed for x/y assuming that the openGL window has 0,0 at the center and we use NDC co-ordinates -1 -&gt; 1 in X and Y we then get x=(x*xScale)+xtran y=(y*yScale)+ytrans; to place the text in screen space  <a href="#adf20a23bc781824e83dc50c121f56aea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_text.html#ad898e1ff3c2221029c115ed5de7f1b72">setColour</a> (const ngl::Colour &amp;_c)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set the colour of the font from an Colour  <a href="#ad898e1ff3c2221029c115ed5de7f1b72"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_text.html#ae2ce0fc28fdfccc2842487d5be64e12a">setColour</a> (ngl::Real _r, ngl::Real _g, ngl::Real _b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set the colour of the font from three floats as a convenience method  <a href="#ae2ce0fc28fdfccc2842487d5be64e12a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_text.html#a6ec9d77b284824829150b8ebb436c358">setTransform</a> (float _x, float _y)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; char, <a class="el" href="struct_font_char.html">FontChar</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_text.html#a3fa2d5b1a68627c8415c500bd95ec353">m_characters</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">a hash to store our <a class="el" href="struct_font_char.html" title="a structure to hold the font char texture id and the vao. The vao for each font will...">FontChar</a> data looked up by the char we want to render according to the Qt Docs a hash has faster lookups than QMap so using this  <a href="#a3fa2d5b1a68627c8415c500bd95ec353"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="_text_8h_source.html#l00060">60</a> of file <a class="el" href="_text_8h_source.html">Text.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5454ef14fc670f5ef68bdbe2fe2fad3b"></a><!-- doxytag: member="Text::Text" ref="a5454ef14fc670f5ef68bdbe2fe2fad3b" args="(const std::string &amp;_f, int _size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Text::Text </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ctor must pass in a ready constructed QFont make sure the size and emphasis is set before doing this as you can't modify the font after construction and you will need a new <a class="el" href="class_text.html">Text</a> class for each different type of text / font </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_f</em>&nbsp;</td><td>the font to use for drawing the text </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_text_8cpp_source.html#l00045">45</a> of file <a class="el" href="_text_8cpp_source.html">Text.cpp</a>.</p>

<p>References <a class="el" href="_text_8h_source.html#l00117">m_characters</a>, <a class="el" href="_text_8cpp_source.html#l00032">nearestPowerOfTwo()</a>, <a class="el" href="_text_8cpp_source.html#l00315">setColour()</a>, <a class="el" href="_text_8cpp_source.html#l00336">setTransform()</a>, <a class="el" href="_text_8h_source.html#l00056">FontChar::textureID</a>, <a class="el" href="_text_8h_source.html#l00057">FontChar::vao</a>, and <a class="el" href="_text_8h_source.html#l00055">FontChar::width</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00046"></a>00046 {
<a name="l00047"></a>00047   TTF_Init();
<a name="l00048"></a>00048   TTF_Font *font = TTF_OpenFont(_f.c_str(), _size );
<a name="l00049"></a>00049   SDL_Color color = { 0, 0, 0,0 };
<a name="l00050"></a>00050   <span class="keywordflow">if</span>(font ==0 )
<a name="l00051"></a>00051   {
<a name="l00052"></a>00052     std::cerr&lt;&lt;<span class="stringliteral">&quot;Error loading font &quot;</span>&lt;&lt;TTF_GetError()&lt;&lt;<span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00053"></a>00053     exit(EXIT_FAILURE);
<a name="l00054"></a>00054   }
<a name="l00055"></a>00055   <span class="comment">// so first we grab the font metric of the font being used</span>
<a name="l00056"></a>00056   <span class="comment">// this allows us to get the height which should be the same for all</span>
<a name="l00057"></a>00057   <span class="comment">// fonts of the same class as this is the total glyph height</span>
<a name="l00058"></a>00058   <span class="keywordtype">float</span> fontHeight=TTF_FontHeight(font);
<a name="l00059"></a>00059 
<a name="l00060"></a>00060   std::cerr&lt;&lt;<span class="stringliteral">&quot;Font height is &quot;</span>&lt;&lt;fontHeight&lt;&lt;<span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00061"></a>00061 
<a name="l00062"></a>00062   <span class="comment">// loop for all basic keyboard chars we will use space to ~</span>
<a name="l00063"></a>00063   <span class="comment">// should ngl::Really change this to unicode at some stage</span>
<a name="l00064"></a>00064   <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">char</span> startChar=<span class="charliteral">&apos; &apos;</span>;
<a name="l00065"></a>00065   <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">char</span> endChar=<span class="charliteral">&apos;~&apos;</span>;
<a name="l00066"></a>00066   <span class="comment">// Most OpenGL cards need textures to be in powers of 2 (128x512 1024X1024 etc etc) so</span>
<a name="l00067"></a>00067   <span class="comment">// to be safe we will conform to this and calculate the nearest power of 2 for the glyph height</span>
<a name="l00068"></a>00068   <span class="comment">// we will do the same for each width of the font below</span>
<a name="l00069"></a>00069   <span class="keywordtype">int</span> heightPow2=<a class="code" href="_text_8cpp.html#aa1f6e37d2b388fc3b779638bc3fb714c" title="code taken from here http://jeffreystedfast.blogspot.com/2008/06/calculating-nearest-power-of-2...">nearestPowerOfTwo</a>(fontHeight);
<a name="l00070"></a>00070 
<a name="l00071"></a>00071   <span class="comment">// we are now going to create a texture / billboard for each font</span>
<a name="l00072"></a>00072   <span class="comment">// they will be the same height but will possibly have different widths</span>
<a name="l00073"></a>00073   <span class="comment">// as some of the fonts will be the same width, to save VAO space we will only create</span>
<a name="l00074"></a>00074   <span class="comment">// a vao if we don&apos;t have one of the set width. To do this we use the has below</span>
<a name="l00075"></a>00075   std::map &lt;int,ngl::VertexArrayObject *&gt; widthVAO;
<a name="l00076"></a>00076 
<a name="l00077"></a>00077   <span class="keywordflow">for</span>(<span class="keywordtype">char</span> c=startChar; c&lt;=endChar; ++c)
<a name="l00078"></a>00078   {
<a name="l00079"></a>00079     <a class="code" href="struct_font_char.html" title="a structure to hold the font char texture id and the vao. The vao for each font will...">FontChar</a> fc;
<a name="l00080"></a>00080     <span class="comment">// get the width of the font and calculate the ^2 size</span>
<a name="l00081"></a>00081    <span class="comment">// TTF_GlyphMetrics(TTF_Font *font, Uint16 ch, int *minx, int *maxx, int *miny, int *maxy, int *advance)</span>
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 
<a name="l00084"></a>00084     <span class="keywordtype">int</span> width;
<a name="l00085"></a>00085     <span class="keywordtype">int</span> height;
<a name="l00086"></a>00086     <span class="keywordtype">char</span> cc[2];
<a name="l00087"></a>00087     sprintf(cc,<span class="stringliteral">&quot;%c&quot;</span>,c);
<a name="l00088"></a>00088     <span class="comment">// need a null terminated string</span>
<a name="l00089"></a>00089     cc[1]=<span class="charliteral">&apos;\0&apos;</span>;
<a name="l00090"></a>00090     TTF_SizeText(font,cc,&amp;width,&amp;height);
<a name="l00091"></a>00091     <span class="keywordtype">int</span> widthPow2=<a class="code" href="_text_8cpp.html#aa1f6e37d2b388fc3b779638bc3fb714c" title="code taken from here http://jeffreystedfast.blogspot.com/2008/06/calculating-nearest-power-of-2...">nearestPowerOfTwo</a>(width);
<a name="l00092"></a>00092   
<a name="l00093"></a>00093     <span class="comment">// now we set the texture co-ords for our quad it is a simple</span>
<a name="l00094"></a>00094     <span class="comment">// triangle billboard with tex-cords as shown</span>
<a name="l00095"></a>00095     <span class="comment">//  s0/t0  ---- s1,t0</span>
<a name="l00096"></a>00096     <span class="comment">//         |\ |</span>
<a name="l00097"></a>00097     <span class="comment">//         | \|</span>
<a name="l00098"></a>00098     <span class="comment">//  s0,t1  ---- s1,t1</span>
<a name="l00099"></a>00099     <span class="comment">// each quad will have the same s0 and the range s0-s1 == 0.0 -&gt; 1.0</span>
<a name="l00100"></a>00100     ngl::Real s0=0.0;
<a name="l00101"></a>00101     <span class="comment">// we now need to scale the tex cord to it ranges from 0-1 based on the coverage</span>
<a name="l00102"></a>00102     <span class="comment">// of the glyph and not the power of 2 texture size. This will ensure that kerns</span>
<a name="l00103"></a>00103     <span class="comment">// / ligatures match</span>
<a name="l00104"></a>00104     ngl::Real s1=width*1.0/width; <span class="comment">// use this on older machines widthPow2;</span>
<a name="l00105"></a>00105     <span class="comment">// t0 will always be the same</span>
<a name="l00106"></a>00106     ngl::Real t0=0.0;
<a name="l00107"></a>00107     <span class="comment">// this will scale the height so we only get coverage of the glyph as above</span>
<a name="l00108"></a>00108     ngl::Real t1=height*1.0/height; <span class="comment">// use this on older gpus heightPow2;</span>
<a name="l00109"></a>00109     <span class="comment">// we need to store the font width for later drawing</span>
<a name="l00110"></a>00110     fc.<a class="code" href="struct_font_char.html#ad9a465bf2576f17d4123d440d1b4a6cb">width</a>=width;
<a name="l00111"></a>00111    
<a name="l00112"></a>00112     SDL_Surface* msg = TTF_RenderText_Blended( font, cc, color );
<a name="l00113"></a>00113     <span class="comment">// this is needed on some older machines</span>
<a name="l00114"></a>00114     <span class="comment">//SDL_Surface *powerOfTwo=SDL_CreateRGBSurface(0,widthPow2,heightPow2,32,0,0,0,0);</span>
<a name="l00115"></a>00115     <span class="comment">//SDL_BlitSurface(msg,NULL,powerOfTwo,NULL);</span>
<a name="l00116"></a>00116     <span class="comment">// now we create the OpenGL texture ID and bind to make it active</span>
<a name="l00117"></a>00117     glGenTextures(1, &amp;fc.<a class="code" href="struct_font_char.html#ae1075095d8060c578b87d6437eccec2c" title="the width of the font">textureID</a>);
<a name="l00118"></a>00118     glBindTexture(GL_TEXTURE_2D, fc.<a class="code" href="struct_font_char.html#ae1075095d8060c578b87d6437eccec2c" title="the width of the font">textureID</a>);
<a name="l00119"></a>00119     glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);
<a name="l00120"></a>00120     glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
<a name="l00121"></a>00121 
<a name="l00122"></a>00122     glTexImage2D( GL_TEXTURE_2D, 0, GL_RGBA, msg-&gt;w, msg-&gt;h, 0, GL_RGBA, GL_UNSIGNED_BYTE, msg-&gt;pixels );
<a name="l00123"></a>00123     <span class="comment">//SDL_FreeSurface(powerOfTwo);</span>
<a name="l00124"></a>00124     SDL_FreeSurface(msg);
<a name="l00125"></a>00125 
<a name="l00126"></a>00126     <span class="comment">// the image in in RGBA format and unsigned byte load it ready for later</span>
<a name="l00127"></a>00127  <span class="comment">//   glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, widthTexture, heightTexture,0, GL_RGBA, GL_UNSIGNED_BYTE, data);</span>
<a name="l00128"></a>00128  <span class="comment">//   delete [] data;</span>
<a name="l00129"></a>00129     <span class="comment">// see if we have a Billboard of this width already</span>
<a name="l00130"></a>00130     <span class="keywordflow">if</span> (!widthVAO.count(width))
<a name="l00131"></a>00131     {
<a name="l00132"></a>00132         <span class="comment">// this structure is used by the VAO to store the data to be uploaded</span>
<a name="l00133"></a>00133         <span class="comment">// for drawing the quad</span>
<a name="l00134"></a>00134         <span class="keyword">struct </span>textVertData
<a name="l00135"></a>00135         {
<a name="l00136"></a>00136         ngl::Real x;
<a name="l00137"></a>00137         ngl::Real y;
<a name="l00138"></a>00138         ngl::Real u;
<a name="l00139"></a>00139         ngl::Real v;
<a name="l00140"></a>00140         };
<a name="l00141"></a>00141         <span class="comment">// we are creating a billboard with two triangles so we only need the</span>
<a name="l00142"></a>00142         <span class="comment">// 6 verts, (could use index and save some space but shouldn&apos;t be too much of an</span>
<a name="l00143"></a>00143         <span class="comment">// issue</span>
<a name="l00144"></a>00144         textVertData d[6];
<a name="l00145"></a>00145         <span class="comment">// load values for triangle 1</span>
<a name="l00146"></a>00146         d[0].x=0;
<a name="l00147"></a>00147         d[0].y=0;
<a name="l00148"></a>00148         d[0].u=s0;
<a name="l00149"></a>00149         d[0].v=t0;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151         d[1].x=fc.<a class="code" href="struct_font_char.html#ad9a465bf2576f17d4123d440d1b4a6cb">width</a>;
<a name="l00152"></a>00152         d[1].y=0;
<a name="l00153"></a>00153         d[1].u=s1;
<a name="l00154"></a>00154         d[1].v=t0;
<a name="l00155"></a>00155 
<a name="l00156"></a>00156         d[2].x=0;
<a name="l00157"></a>00157         d[2].y=fontHeight;
<a name="l00158"></a>00158         d[2].u=s0;
<a name="l00159"></a>00159         d[2].v=t1;
<a name="l00160"></a>00160         <span class="comment">// load values for triangle two</span>
<a name="l00161"></a>00161         d[3].x=0;
<a name="l00162"></a>00162         d[3].y=0+fontHeight;
<a name="l00163"></a>00163         d[3].u=s0;
<a name="l00164"></a>00164         d[3].v=t1;
<a name="l00165"></a>00165 
<a name="l00166"></a>00166 
<a name="l00167"></a>00167         d[4].x=fc.<a class="code" href="struct_font_char.html#ad9a465bf2576f17d4123d440d1b4a6cb">width</a>;
<a name="l00168"></a>00168         d[4].y=0;
<a name="l00169"></a>00169         d[4].u=s1;
<a name="l00170"></a>00170         d[4].v=t0;
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 
<a name="l00173"></a>00173         d[5].x=fc.<a class="code" href="struct_font_char.html#ad9a465bf2576f17d4123d440d1b4a6cb">width</a>;
<a name="l00174"></a>00174         d[5].y=fontHeight;
<a name="l00175"></a>00175         d[5].u=s1;
<a name="l00176"></a>00176         d[5].v=t1;
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 
<a name="l00179"></a>00179         <span class="comment">// now we create a VAO to store the data</span>
<a name="l00180"></a>00180         ngl::VertexArrayObject *vao=ngl::VertexArrayObject::createVOA(GL_TRIANGLES);
<a name="l00181"></a>00181         <span class="comment">// bind it so we can set values</span>
<a name="l00182"></a>00182         vao-&gt;bind();
<a name="l00183"></a>00183         <span class="comment">// set the vertex data (2 for x,y 2 for u,v)</span>
<a name="l00184"></a>00184         vao-&gt;setData(6*<span class="keyword">sizeof</span>(textVertData),d[0].x);
<a name="l00185"></a>00185         <span class="comment">// now we set the attribute pointer to be 0 (as this matches vertIn in our shader)</span>
<a name="l00186"></a>00186         vao-&gt;setVertexAttributePointer(0,2,GL_FLOAT,<span class="keyword">sizeof</span>(textVertData),0);
<a name="l00187"></a>00187         <span class="comment">// We can now create another set of data (which will be added to the VAO)</span>
<a name="l00188"></a>00188         <span class="comment">// in this case the UV co-ords</span>
<a name="l00189"></a>00189         <span class="comment">// now we set this as the 2nd attribute pointer (1) to match inUV in the shader</span>
<a name="l00190"></a>00190         vao-&gt;setVertexAttributePointer(1,2,GL_FLOAT,<span class="keyword">sizeof</span>(textVertData),2);
<a name="l00191"></a>00191         <span class="comment">// say how many indecis to be rendered</span>
<a name="l00192"></a>00192         vao-&gt;setNumIndices(6);
<a name="l00193"></a>00193 
<a name="l00194"></a>00194         <span class="comment">// now unbind</span>
<a name="l00195"></a>00195         vao-&gt;unbind();
<a name="l00196"></a>00196         <span class="comment">// store the vao pointer for later use in the draw method</span>
<a name="l00197"></a>00197         fc.<a class="code" href="struct_font_char.html#a890a0845ed36a0d9aa80eff184f76230" title="the texture id of the font billboard">vao</a>=vao;
<a name="l00198"></a>00198         widthVAO[width]=vao;
<a name="l00199"></a>00199     }
<a name="l00200"></a>00200     <span class="keywordflow">else</span>
<a name="l00201"></a>00201     {
<a name="l00202"></a>00202       fc.<a class="code" href="struct_font_char.html#a890a0845ed36a0d9aa80eff184f76230" title="the texture id of the font billboard">vao</a>=widthVAO[width];
<a name="l00203"></a>00203     }
<a name="l00204"></a>00204     <span class="comment">// finally add the element to the map, this must be the last</span>
<a name="l00205"></a>00205     <span class="comment">// thing we do</span>
<a name="l00206"></a>00206     <a class="code" href="class_text.html#a3fa2d5b1a68627c8415c500bd95ec353" title="a hash to store our FontChar data looked up by the char we want to render according...">m_characters</a>[c]=fc;
<a name="l00207"></a>00207   }
<a name="l00208"></a>00208   <span class="comment">// set a default colour (black) incase user forgets</span>
<a name="l00209"></a>00209   this-&gt;<a class="code" href="class_text.html#ad898e1ff3c2221029c115ed5de7f1b72" title="set the colour of the font from an Colour">setColour</a>(0,0,0);
<a name="l00210"></a>00210   <a class="code" href="class_text.html#a6ec9d77b284824829150b8ebb436c358">setTransform</a>(1.0,1.0);
<a name="l00211"></a>00211   
<a name="l00212"></a>00212 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_text_a5454ef14fc670f5ef68bdbe2fe2fad3b_cgraph.png" border="0" usemap="#class_text_a5454ef14fc670f5ef68bdbe2fe2fad3b_cgraph_map" alt=""></div>
<map name="class_text_a5454ef14fc670f5ef68bdbe2fe2fad3b_cgraph_map" id="class_text_a5454ef14fc670f5ef68bdbe2fe2fad3b_cgraph">
<area shape="rect" id="node3" href="_text_8cpp.html#aa1f6e37d2b388fc3b779638bc3fb714c" title="code taken from here http://jeffreystedfast.blogspot.com/2008/06/calculating&#45;nearest&#45;power&#45;of&#45;2..." alt="" coords="148,5,305,35"/><area shape="rect" id="node5" href="class_text.html#ad898e1ff3c2221029c115ed5de7f1b72" title="set the colour of the font from an Colour" alt="" coords="164,59,289,88"/><area shape="rect" id="node7" href="class_text.html#a6ec9d77b284824829150b8ebb436c358" title="Text::setTransform" alt="" coords="152,112,301,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2d49e5c280e205125b149f7777ae30c7"></a><!-- doxytag: member="Text::~Text" ref="a2d49e5c280e205125b149f7777ae30c7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Text::~Text </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>dtor will clean / remove textures and VAO's for the class </p>

<p>Definition at line <a class="el" href="_text_8cpp_source.html#l00216">216</a> of file <a class="el" href="_text_8cpp_source.html">Text.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00217"></a>00217 {
<a name="l00218"></a>00218   <span class="comment">// our dtor should clear out the textures and remove the VAO&apos;s</span>
<a name="l00219"></a>00219  <span class="comment">/* foreach( FontChar m, m_characters)</span>
<a name="l00220"></a>00220 <span class="comment">  {</span>
<a name="l00221"></a>00221 <span class="comment">    glDeleteTextures(1,&amp;m.textureID);</span>
<a name="l00222"></a>00222 <span class="comment">    m.vao-&gt;removeVOA();</span>
<a name="l00223"></a>00223 <span class="comment">  }</span>
<a name="l00224"></a>00224 <span class="comment">*/</span>
<a name="l00225"></a>00225 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3d0591d0b3a6bd73543cb8637fbe91e5"></a><!-- doxytag: member="Text::renderText" ref="a3d0591d0b3a6bd73543cb8637fbe91e5" args="(float _x, float _y, const std::string &amp;_text) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Text::renderText </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>_text</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>render the text to the screen at _x,_y where 0,0 is top left of the screen all positioning is relative to the screen size set with the setScreenSize method so it is important that changes in screen size are updated. These value will be sent to the nglTextShader to be rendered (see source ) </p>
<dl class="note"><dt><b>Note:</b></dt><dd>font quad is drawn as 0,0 being bottom left so if we draw at 0,0 the font will not be visible, we need to add the offset of the font height to any y value (i.e. a 16pt font drawn at 0,16 will appear at top right of the screen) </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_x</em>&nbsp;</td><td>the x position of the text in screen space </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_y</em>&nbsp;</td><td>the y position of the text in screen space </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_text</em>&nbsp;</td><td>the text to draw (this is limited to ASCII chars ' '-&gt;'~' at present but unicode will be done soon </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_text_8cpp_source.html#l00231">231</a> of file <a class="el" href="_text_8cpp_source.html">Text.cpp</a>.</p>

<p>References <a class="el" href="_text_8h_source.html#l00117">m_characters</a>, <a class="el" href="_text_8h_source.html#l00056">FontChar::textureID</a>, <a class="el" href="_text_8h_source.html#l00057">FontChar::vao</a>, and <a class="el" href="_text_8h_source.html#l00055">FontChar::width</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00232"></a>00232 {
<a name="l00233"></a>00233   <span class="comment">// make sure we are in texture unit 0 as this is what the</span>
<a name="l00234"></a>00234   <span class="comment">// shader expects</span>
<a name="l00235"></a>00235   glActiveTexture(GL_TEXTURE0);
<a name="l00236"></a>00236   glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);
<a name="l00237"></a>00237   glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);
<a name="l00238"></a>00238 
<a name="l00239"></a>00239   glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
<a name="l00240"></a>00240   glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);
<a name="l00241"></a>00241   <span class="comment">// grab an instance of the shader manager</span>
<a name="l00242"></a>00242   ngl::ShaderLib *shader=ngl::ShaderLib::instance();
<a name="l00243"></a>00243   <span class="comment">// use the built in text rendering shader</span>
<a name="l00244"></a>00244   (*shader)[<span class="stringliteral">&quot;nglTextShader&quot;</span>]-&gt;use();
<a name="l00245"></a>00245   <span class="comment">// the y pos will always be the same so set it once for each</span>
<a name="l00246"></a>00246   <span class="comment">// string we are rendering</span>
<a name="l00247"></a>00247   shader-&gt;setRegisteredUniform1f(<span class="stringliteral">&quot;ypos&quot;</span>,_y);
<a name="l00248"></a>00248   <span class="comment">// now enable blending and disable depth sorting so the font renders</span>
<a name="l00249"></a>00249   <span class="comment">// correctly</span>
<a name="l00250"></a>00250   glEnable(GL_BLEND);
<a name="l00251"></a>00251   glDisable(GL_DEPTH_TEST);
<a name="l00252"></a>00252   glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
<a name="l00253"></a>00253   <span class="comment">// now loop for each of the char and draw our billboard</span>
<a name="l00254"></a>00254   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> textLength=text.length();
<a name="l00255"></a>00255 
<a name="l00256"></a>00256   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; textLength; ++i)
<a name="l00257"></a>00257   {
<a name="l00258"></a>00258     <span class="comment">// set the shader x position this will change each time</span>
<a name="l00259"></a>00259     <span class="comment">// we render a glyph by the width of the char</span>
<a name="l00260"></a>00260     shader-&gt;setRegisteredUniform1f(<span class="stringliteral">&quot;xpos&quot;</span>,_x);
<a name="l00261"></a>00261     <span class="comment">// so find the FontChar data for our current char</span>
<a name="l00262"></a>00262 <span class="comment">//    FontChar f = m_characters[text[i].toAscii()];</span>
<a name="l00263"></a>00263 <span class="comment">//    FontChar f = m_characters[text[i]];</span>
<a name="l00264"></a>00264   std::map &lt;char,FontChar&gt;::const_iterator currentchar=<a class="code" href="class_text.html#a3fa2d5b1a68627c8415c500bd95ec353" title="a hash to store our FontChar data looked up by the char we want to render according...">m_characters</a>.find(text[i]);
<a name="l00265"></a>00265   <span class="comment">// make sure we have a valid shader</span>
<a name="l00266"></a>00266   <span class="keywordflow">if</span>(currentchar!=<a class="code" href="class_text.html#a3fa2d5b1a68627c8415c500bd95ec353" title="a hash to store our FontChar data looked up by the char we want to render according...">m_characters</a>.end())
<a name="l00267"></a>00267   {
<a name="l00268"></a>00268   <a class="code" href="struct_font_char.html" title="a structure to hold the font char texture id and the vao. The vao for each font will...">FontChar</a> f=currentchar-&gt;second;
<a name="l00269"></a>00269     <span class="comment">// bind the pre-generated texture</span>
<a name="l00270"></a>00270     glBindTexture(GL_TEXTURE_2D, f.<a class="code" href="struct_font_char.html#ae1075095d8060c578b87d6437eccec2c" title="the width of the font">textureID</a>);
<a name="l00271"></a>00271     <span class="comment">// bind the vao</span>
<a name="l00272"></a>00272     f.<a class="code" href="struct_font_char.html#a890a0845ed36a0d9aa80eff184f76230" title="the texture id of the font billboard">vao</a>-&gt;bind();
<a name="l00273"></a>00273     <span class="comment">// draw </span>
<a name="l00274"></a>00274     f.<a class="code" href="struct_font_char.html#a890a0845ed36a0d9aa80eff184f76230" title="the texture id of the font billboard">vao</a>-&gt;draw();
<a name="l00275"></a>00275     <span class="comment">// now unbind the vao</span>
<a name="l00276"></a>00276     f.<a class="code" href="struct_font_char.html#a890a0845ed36a0d9aa80eff184f76230" title="the texture id of the font billboard">vao</a>-&gt;unbind();
<a name="l00277"></a>00277     <span class="comment">// finally move to the next glyph x position by incrementing</span>
<a name="l00278"></a>00278     <span class="comment">// by the width of the char just drawn</span>
<a name="l00279"></a>00279     _x+=f.<a class="code" href="struct_font_char.html#ad9a465bf2576f17d4123d440d1b4a6cb">width</a>;
<a name="l00280"></a>00280 
<a name="l00281"></a>00281   } 
<a name="l00282"></a>00282   }
<a name="l00283"></a>00283   <span class="comment">// finally disable the blend and re-enable depth sort</span>
<a name="l00284"></a>00284   glDisable(GL_BLEND);
<a name="l00285"></a>00285   glEnable(GL_DEPTH_TEST);
<a name="l00286"></a>00286 
<a name="l00287"></a>00287 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_text_a3d0591d0b3a6bd73543cb8637fbe91e5_icgraph.png" border="0" usemap="#class_text_a3d0591d0b3a6bd73543cb8637fbe91e5_icgraph_map" alt=""></div>
<map name="class_text_a3d0591d0b3a6bd73543cb8637fbe91e5_icgraph_map" id="class_text_a3d0591d0b3a6bd73543cb8637fbe91e5_icgraph">
<area shape="rect" id="node3" href="class_u_i_slider.html#a1c49ae57eee928f5c330b65042388c2e" title="draws the button, and any text if necessary" alt="" coords="196,5,308,35"/><area shape="rect" id="node5" href="class_n_g_l_draw.html#aec8a377329da67db1e2ef007bd27f026" title="draw the scene" alt="" coords="364,57,489,87"/><area shape="rect" id="node9" href="class_u_i_button.html#aa640170f598cb86d78fedf77e78ba889" title="draws the button, and any text if necessary" alt="" coords="189,109,315,139"/><area shape="rect" id="node7" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="540,57,593,87"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae2ce0fc28fdfccc2842487d5be64e12a"></a><!-- doxytag: member="Text::setColour" ref="ae2ce0fc28fdfccc2842487d5be64e12a" args="(ngl::Real _r, ngl::Real _g, ngl::Real _b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Text::setColour </td>
          <td>(</td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>set the colour of the font from three floats as a convenience method </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_r</em>&nbsp;</td><td>the red component of the colour for the font </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_g</em>&nbsp;</td><td>the green component of the colour for the font </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_b</em>&nbsp;</td><td>the blue component of the colour for the font </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_text_8cpp_source.html#l00327">327</a> of file <a class="el" href="_text_8cpp_source.html">Text.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00328"></a>00328 {
<a name="l00329"></a>00329 
<a name="l00330"></a>00330   ngl::ShaderLib *shader=ngl::ShaderLib::instance();
<a name="l00331"></a>00331   (*shader)[<span class="stringliteral">&quot;nglTextShader&quot;</span>]-&gt;use();
<a name="l00332"></a>00332 
<a name="l00333"></a>00333   shader-&gt;setRegisteredUniform3f(<span class="stringliteral">&quot;textColour&quot;</span>,_r,_g,_b);
<a name="l00334"></a>00334 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad898e1ff3c2221029c115ed5de7f1b72"></a><!-- doxytag: member="Text::setColour" ref="ad898e1ff3c2221029c115ed5de7f1b72" args="(const ngl::Colour &amp;_c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Text::setColour </td>
          <td>(</td>
          <td class="paramtype">const ngl::Colour &amp;&nbsp;</td>
          <td class="paramname"> <em>_c</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>set the colour of the font from an Colour </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_c</em>&nbsp;</td><td>the colour to set for the font (alpha is overridden by the texture) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_text_8cpp_source.html#l00315">315</a> of file <a class="el" href="_text_8cpp_source.html">Text.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00316"></a>00316 {
<a name="l00317"></a>00317   <span class="comment">// get shader instance</span>
<a name="l00318"></a>00318   ngl::ShaderLib *shader=ngl::ShaderLib::instance();
<a name="l00319"></a>00319   <span class="comment">// make current shader active</span>
<a name="l00320"></a>00320   (*shader)[<span class="stringliteral">&quot;nglTextShader&quot;</span>]-&gt;use();
<a name="l00321"></a>00321   <span class="comment">// set the values</span>
<a name="l00322"></a>00322   shader-&gt;setRegisteredUniform3f(<span class="stringliteral">&quot;textColour&quot;</span>,_c.r(),_c.g(),_c.b());
<a name="l00323"></a>00323 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_text_ad898e1ff3c2221029c115ed5de7f1b72_icgraph.png" border="0" usemap="#class_text_ad898e1ff3c2221029c115ed5de7f1b72_icgraph_map" alt=""></div>
<map name="class_text_ad898e1ff3c2221029c115ed5de7f1b72_icgraph_map" id="class_text_ad898e1ff3c2221029c115ed5de7f1b72_icgraph">
<area shape="rect" id="node3" href="class_u_i_slider.html#abfffa026ec00a212e1865c85f5c86088" title="sets the colour of the text" alt="" coords="188,5,364,35"/><area shape="rect" id="node5" href="class_u_i_button.html#a3c5be36d6353ce1aa3ad9b0bd90ba3ee" title="sets the colour of the text" alt="" coords="183,59,369,88"/><area shape="rect" id="node7" href="class_text.html#a5454ef14fc670f5ef68bdbe2fe2fad3b" title="ctor must pass in a ready constructed QFont make sure the size and emphasis is set..." alt="" coords="231,112,321,141"/><area shape="rect" id="node9" href="class_u_i_slider.html#ad4572ba90f629210b4a8f534a6df40ce" title="method used to update the text string, colour and offset from the button centre" alt="" coords="197,165,355,195"/><area shape="rect" id="node15" href="class_u_i_button.html#ac855ee10dfab054db813393276110685" title="method used to update the text string, colour and offset from the button centre" alt="" coords="191,219,361,248"/><area shape="rect" id="node11" href="class_n_g_l_draw.html#a1a830ca1a92410286704ffcb4c6d6677" title="initialises all of the buttons, sliders and text to be used in the user interface..." alt="" coords="448,165,608,195"/><area shape="rect" id="node13" href="class_n_g_l_draw.html#a2317f00e85c646efa0932a79b71904f4" title="NGLDraw::NGLDraw" alt="" coords="685,165,843,195"/><area shape="rect" id="node18" href="class_n_g_l_draw.html#a1b20896f4aac3cddd5ea2f977410a19f" title="this method is called every time a mouse button is presses" alt="" coords="420,219,636,248"/><area shape="rect" id="node20" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="737,219,791,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adf20a23bc781824e83dc50c121f56aea"></a><!-- doxytag: member="Text::setScreenSize" ref="adf20a23bc781824e83dc50c121f56aea" args="(int _w, int _h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Text::setScreenSize </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_h</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>set the size of the screen to scale our font to fit correctly this basically creates the orthographic projection needed for x/y assuming that the openGL window has 0,0 at the center and we use NDC co-ordinates -1 -&gt; 1 in X and Y we then get x=(x*xScale)+xtran y=(y*yScale)+ytrans; to place the text in screen space </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_w</em>&nbsp;</td><td>the current width of the screen </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_h</em>&nbsp;</td><td>the current height of the screen </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_text_8cpp_source.html#l00290">290</a> of file <a class="el" href="_text_8cpp_source.html">Text.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00291"></a>00291 {
<a name="l00292"></a>00292 
<a name="l00293"></a>00293   <span class="keywordtype">float</span> scaleX=2.0/_w;
<a name="l00294"></a>00294   <span class="keywordtype">float</span> scaleY=-2.0/_h;
<a name="l00295"></a>00295   <span class="comment">// in shader we do the following code to transform from</span>
<a name="l00296"></a>00296   <span class="comment">// x,y to NDC</span>
<a name="l00297"></a>00297   <span class="comment">// gl_Position=vec4( ((xpos+inVert.x)*scaleX)-1,((ypos+inVert.y)*scaleY)+1.0,0.0,1.0); &quot;</span>
<a name="l00298"></a>00298   <span class="comment">// so all we need to do is calculate the scale above and pass to shader every time the</span>
<a name="l00299"></a>00299   <span class="comment">// screen dimensions change</span>
<a name="l00300"></a>00300   ngl::ShaderLib *shader=ngl::ShaderLib::instance();
<a name="l00301"></a>00301   (*shader)[<span class="stringliteral">&quot;nglTextShader&quot;</span>]-&gt;use();
<a name="l00302"></a>00302   shader-&gt;setRegisteredUniform1f(<span class="stringliteral">&quot;scaleX&quot;</span>,scaleX);
<a name="l00303"></a>00303   shader-&gt;setRegisteredUniform1f(<span class="stringliteral">&quot;scaleY&quot;</span>,scaleY);
<a name="l00304"></a>00304 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_text_adf20a23bc781824e83dc50c121f56aea_icgraph.png" border="0" usemap="#class_text_adf20a23bc781824e83dc50c121f56aea_icgraph_map" alt=""></div>
<map name="class_text_adf20a23bc781824e83dc50c121f56aea_icgraph_map" id="class_text_adf20a23bc781824e83dc50c121f56aea_icgraph">
<area shape="rect" id="node3" href="class_n_g_l_draw.html#ae5151dc189fd5de5649b72c5e76bcf47" title="resize our screen and set the camera aspect ratio" alt="" coords="215,5,348,35"/><area shape="rect" id="node5" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="399,5,452,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6ec9d77b284824829150b8ebb436c358"></a><!-- doxytag: member="Text::setTransform" ref="a6ec9d77b284824829150b8ebb436c358" args="(float _x, float _y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Text::setTransform </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>_y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_text_8cpp_source.html#l00336">336</a> of file <a class="el" href="_text_8cpp_source.html">Text.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00337"></a>00337 {
<a name="l00338"></a>00338 
<a name="l00339"></a>00339   ngl::ShaderLib *shader=ngl::ShaderLib::instance();
<a name="l00340"></a>00340   (*shader)[<span class="stringliteral">&quot;nglTextShader&quot;</span>]-&gt;use();
<a name="l00341"></a>00341 
<a name="l00342"></a>00342   shader-&gt;setRegisteredUniform2f(<span class="stringliteral">&quot;transform&quot;</span>,_x,_y);
<a name="l00343"></a>00343 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_text_a6ec9d77b284824829150b8ebb436c358_icgraph.png" border="0" usemap="#class_text_a6ec9d77b284824829150b8ebb436c358_icgraph_map" alt=""></div>
<map name="class_text_a6ec9d77b284824829150b8ebb436c358_icgraph_map" id="class_text_a6ec9d77b284824829150b8ebb436c358_icgraph">
<area shape="rect" id="node3" href="class_n_g_l_draw.html#ae5151dc189fd5de5649b72c5e76bcf47" title="resize our screen and set the camera aspect ratio" alt="" coords="207,5,340,35"/><area shape="rect" id="node7" href="class_text.html#a5454ef14fc670f5ef68bdbe2fe2fad3b" title="ctor must pass in a ready constructed QFont make sure the size and emphasis is set..." alt="" coords="228,59,319,88"/><area shape="rect" id="node5" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="391,5,444,35"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a3fa2d5b1a68627c8415c500bd95ec353"></a><!-- doxytag: member="Text::m_characters" ref="a3fa2d5b1a68627c8415c500bd95ec353" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;char,<a class="el" href="struct_font_char.html">FontChar</a>&gt; <a class="el" href="class_text.html#a3fa2d5b1a68627c8415c500bd95ec353">Text::m_characters</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>a hash to store our <a class="el" href="struct_font_char.html" title="a structure to hold the font char texture id and the vao. The vao for each font will...">FontChar</a> data looked up by the char we want to render according to the Qt Docs a hash has faster lookups than QMap so using this </p>

<p>Definition at line <a class="el" href="_text_8h_source.html#l00117">117</a> of file <a class="el" href="_text_8h_source.html">Text.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_text_8h_source.html">Text.h</a></li>
<li><a class="el" href="_text_8cpp_source.html">Text.cpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 11 May 2015 for YOURPROJECTNAMEGOESHERE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
