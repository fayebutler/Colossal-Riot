<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>YOURPROJECTNAMEGOESHERE: StateMachine&lt; entityType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>StateMachine&lt; entityType &gt; Class Template Reference</h1><!-- doxytag: class="StateMachine" -->
<p>Templated scripted FSM to make agent decisions linked using LuaBridge.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for StateMachine&lt; entityType &gt;:</div>
<div class="dynsection">
<div class="center"><img src="class_state_machine__inherit__graph.png" border="0" usemap="#_state_machine_3_01entity_type_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="_state_machine_3_01entity_type_01_4_inherit__map" id="_state_machine_3_01entity_type_01_4_inherit__map">
<area shape="rect" id="node3" href="class_state_machine.html" title="{StateMachine\&lt; Police \&gt;\n|&#45; m_owner\l&#45; m_currentState\l&#45; m_previousState\l&#45; m_globalState\l&#45; L\l|+ StateMachine()\l+ ~StateMachine()\l+ setCurrentState()\l+ getCurrentState()\l+ setPreviousState()\l+ getPreviousState()\l+ setGlobalState()\l+ getGlobalState()\l+ update()\l+ luaCallState()\l+ changeState()\l+ registerLua()\l}" alt="" coords="5,419,192,765"/><area shape="rect" id="node5" href="class_state_machine.html" title="{StateMachine\&lt; Rioter \&gt;\n|&#45; m_owner\l&#45; m_currentState\l&#45; m_previousState\l&#45; m_globalState\l&#45; L\l|+ StateMachine()\l+ ~StateMachine()\l+ setCurrentState()\l+ getCurrentState()\l+ setPreviousState()\l+ getPreviousState()\l+ setGlobalState()\l+ getGlobalState()\l+ update()\l+ luaCallState()\l+ changeState()\l+ registerLua()\l}" alt="" coords="216,419,405,765"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for StateMachine&lt; entityType &gt;:</div>
<div class="dynsection">
<div class="center"><img src="class_state_machine__coll__graph.png" border="0" usemap="#_state_machine_3_01entity_type_01_4_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_state_machine-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#a546b9180b13bcfdde4020ebd625b20ca">StateMachine</a> (<a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> *_owner)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="class_state_machine.html" title="Templated scripted FSM to make agent decisions linked using LuaBridge.">StateMachine</a> ctor gets the lua state from its owner to register its functions.  <a href="#a546b9180b13bcfdde4020ebd625b20ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#a943e82b15dc6da66ebe619534ec93ad7">~StateMachine</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">State Machine dtor.  <a href="#a943e82b15dc6da66ebe619534ec93ad7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#abec3501cad25492137df9f32c5f71e4c">setCurrentState</a> (const char *_inState)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the current state (of its owner).  <a href="#abec3501cad25492137df9f32c5f71e4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#aa3c1537eeee6461a1803c10ab546ec8e">getCurrentState</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the current state.  <a href="#aa3c1537eeee6461a1803c10ab546ec8e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#a04158ed69b0b7ae4bdee9edaaf0aa796">setPreviousState</a> (const char *_inState)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the previous state.  <a href="#a04158ed69b0b7ae4bdee9edaaf0aa796"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#a3380723c39e22d97cb8042c3375fee58">getPreviousState</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the current state.  <a href="#a3380723c39e22d97cb8042c3375fee58"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#a373b812ee57cfbb4fc7393247b4afc5b">setGlobalState</a> (const char *_inState)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the global state.  <a href="#a373b812ee57cfbb4fc7393247b4afc5b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#aa304e7340207cdf0d92e2bcb5ec45a45">getGlobalState</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the current global state.  <a href="#aa304e7340207cdf0d92e2bcb5ec45a45"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#a1cb50dc462cfec1f5d07c797df0f5040">update</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">update function that checks the global state for changes and then the execute funciton of the current state  <a href="#a1cb50dc462cfec1f5d07c797df0f5040"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#a4389f22af59989f9a1b0f3ed01222273">luaCallState</a> (const char *_state, const char *_phase)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">function to lookup and call a lua function in a specified table from c++  <a href="#a4389f22af59989f9a1b0f3ed01222273"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#ae1d09b16ad3de9a387075fb661a15f62">changeState</a> (const char *_newState)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">function to change state by calling the exit function of the current state and then the enter function of the new state  <a href="#ae1d09b16ad3de9a387075fb661a15f62"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#ab077f35ef0f9cab4b768d5a4ae35243d">registerLua</a> (lua_State *_L)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">function to register the state machine class using LuaBridge  <a href="#ab077f35ef0f9cab4b768d5a4ae35243d"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#a06fef4171fc329aab7949de019d09692">m_owner</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the state machine owner.  <a href="#a06fef4171fc329aab7949de019d09692"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79">m_currentState</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the current state.  <a href="#a70d498f9916a5fc2fa78f9bc15c0cb79"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#ab54751ae389a97e58a2fa792f0fc8ddd">m_previousState</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the previous state.  <a href="#ab54751ae389a97e58a2fa792f0fc8ddd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#af869f4a53b224a270ba2333703af0f0f">m_globalState</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the global state.  <a href="#af869f4a53b224a270ba2333703af0f0f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">lua_State *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_state_machine.html#a2a5f9c533fb1e368a5e865623e14b31a">L</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the lua state passed in by the owner.  <a href="#a2a5f9c533fb1e368a5e865623e14b31a"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class entityType&gt;<br/>
 class StateMachine&lt; entityType &gt;</h3>

<p>Templated scripted FSM to make agent decisions linked using LuaBridge. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Emily Holt </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>Last revision 10/05/2015 Updated to comply with doxygen and NCCA coding standard </dd></dl>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00026">26</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a546b9180b13bcfdde4020ebd625b20ca"></a><!-- doxytag: member="StateMachine::StateMachine" ref="a546b9180b13bcfdde4020ebd625b20ca" args="(entityType *_owner)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::<a class="el" href="class_state_machine.html">StateMachine</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> *&nbsp;</td>
          <td class="paramname"> <em>_owner</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="class_state_machine.html" title="Templated scripted FSM to make agent decisions linked using LuaBridge.">StateMachine</a> ctor gets the lua state from its owner to register its functions. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_owner,:</em>&nbsp;</td><td>Pointer to the owner(agent) of the state machine </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00033">33</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00033"></a>00033                                   :<a class="code" href="class_state_machine.html#a06fef4171fc329aab7949de019d09692" title="Pointer to the state machine owner.">m_owner</a>(_owner)
<a name="l00034"></a>00034   {
<a name="l00035"></a>00035     <a class="code" href="class_state_machine.html#a2a5f9c533fb1e368a5e865623e14b31a" title="Pointer to the lua state passed in by the owner.">L</a> = <a class="code" href="class_state_machine.html#a06fef4171fc329aab7949de019d09692" title="Pointer to the state machine owner.">m_owner</a>-&gt;getLuaState();
<a name="l00036"></a>00036     <a class="code" href="class_state_machine.html#ab077f35ef0f9cab4b768d5a4ae35243d" title="function to register the state machine class using LuaBridge">registerLua</a>(<a class="code" href="class_state_machine.html#a2a5f9c533fb1e368a5e865623e14b31a" title="Pointer to the lua state passed in by the owner.">L</a>);
<a name="l00037"></a>00037     luabridge::push(<a class="code" href="class_state_machine.html#a2a5f9c533fb1e368a5e865623e14b31a" title="Pointer to the lua state passed in by the owner.">L</a>, <span class="keyword">this</span>);
<a name="l00038"></a>00038     lua_setglobal(<a class="code" href="class_state_machine.html#a2a5f9c533fb1e368a5e865623e14b31a" title="Pointer to the lua state passed in by the owner.">L</a>, <span class="stringliteral">&quot;stateMachine&quot;</span>);
<a name="l00039"></a>00039     <a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a> = NULL;
<a name="l00040"></a>00040     <a class="code" href="class_state_machine.html#ab54751ae389a97e58a2fa792f0fc8ddd" title="Pointer to the previous state.">m_previousState</a> = NULL;
<a name="l00041"></a>00041   }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a943e82b15dc6da66ebe619534ec93ad7"></a><!-- doxytag: member="StateMachine::~StateMachine" ref="a943e82b15dc6da66ebe619534ec93ad7" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::~<a class="el" href="class_state_machine.html">StateMachine</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>State Machine dtor. </p>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00046">46</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00046"></a>00046 {}
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ae1d09b16ad3de9a387075fb661a15f62"></a><!-- doxytag: member="StateMachine::changeState" ref="ae1d09b16ad3de9a387075fb661a15f62" args="(const char *_newState)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::changeState </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>_newState</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>function to change state by calling the exit function of the current state and then the enter function of the new state </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_newState,:</em>&nbsp;</td><td>the new state table to lookup in lua </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00121">121</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00122"></a>00122   {
<a name="l00123"></a>00123     <a class="code" href="class_state_machine.html#ab54751ae389a97e58a2fa792f0fc8ddd" title="Pointer to the previous state.">m_previousState</a> = <a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a>;
<a name="l00124"></a>00124 
<a name="l00125"></a>00125     <span class="comment">//call exit function of current state</span>
<a name="l00126"></a>00126     <span class="keywordflow">if</span> (<a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a> != NULL)
<a name="l00127"></a>00127     {
<a name="l00128"></a>00128       <a class="code" href="class_state_machine.html#ab54751ae389a97e58a2fa792f0fc8ddd" title="Pointer to the previous state.">m_previousState</a> = <a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a>;
<a name="l00129"></a>00129       <a class="code" href="class_state_machine.html#a4389f22af59989f9a1b0f3ed01222273" title="function to lookup and call a lua function in a specified table from c++">luaCallState</a>(<a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a>, <span class="stringliteral">&quot;exit&quot;</span>);
<a name="l00130"></a>00130     }
<a name="l00131"></a>00131     <span class="comment">//call enter function of new state</span>
<a name="l00132"></a>00132     <a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a> = _newState;
<a name="l00133"></a>00133     <a class="code" href="class_state_machine.html#a4389f22af59989f9a1b0f3ed01222273" title="function to lookup and call a lua function in a specified table from c++">luaCallState</a>(<a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a>, <span class="stringliteral">&quot;enter&quot;</span>);
<a name="l00134"></a>00134   }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_state_machine_ae1d09b16ad3de9a387075fb661a15f62_icgraph.png" border="0" usemap="#class_state_machine_ae1d09b16ad3de9a387075fb661a15f62_icgraph_map" alt=""></div>
<map name="class_state_machine_ae1d09b16ad3de9a387075fb661a15f62_icgraph_map" id="class_state_machine_ae1d09b16ad3de9a387075fb661a15f62_icgraph">
<area shape="rect" id="node3" href="class_state_machine.html#ab077f35ef0f9cab4b768d5a4ae35243d" title="function to register the state machine class using LuaBridge" alt="" coords="271,5,545,35"/><area shape="rect" id="node5" href="class_squad.html#a12585c674b5835844174c4be470ec894" title="Gets the state of the squad." alt="" coords="321,59,495,88"/><area shape="rect" id="node7" href="class_n_g_l_draw.html#a1b20896f4aac3cddd5ea2f977410a19f" title="this method is called every time a mouse button is presses" alt="" coords="596,32,812,61"/><area shape="rect" id="node11" href="class_squad.html#ae1ca5345900e5f3194d6bf43affc350b" title="Squad ctor." alt="" coords="648,85,760,115"/><area shape="rect" id="node9" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="863,32,916,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa3c1537eeee6461a1803c10ab546ec8e"></a><!-- doxytag: member="StateMachine::getCurrentState" ref="aa3c1537eeee6461a1803c10ab546ec8e" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::getCurrentState </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the current state. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>const char*: the current state </dd></dl>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00057">57</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00057"></a>00057 { <span class="keywordflow">return</span> <a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a>; }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_state_machine_aa3c1537eeee6461a1803c10ab546ec8e_icgraph.png" border="0" usemap="#class_state_machine_aa3c1537eeee6461a1803c10ab546ec8e_icgraph_map" alt=""></div>
<map name="class_state_machine_aa3c1537eeee6461a1803c10ab546ec8e_icgraph_map" id="class_state_machine_aa3c1537eeee6461a1803c10ab546ec8e_icgraph">
<area shape="rect" id="node3" href="class_state_machine.html#ab077f35ef0f9cab4b768d5a4ae35243d" title="function to register the state machine class using LuaBridge" alt="" coords="297,5,572,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa304e7340207cdf0d92e2bcb5ec45a45"></a><!-- doxytag: member="StateMachine::getGlobalState" ref="aa304e7340207cdf0d92e2bcb5ec45a45" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::getGlobalState </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the current global state. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>const char*: the current global state </dd></dl>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00077">77</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00077"></a>00077 { <span class="keywordflow">return</span> <a class="code" href="class_state_machine.html#af869f4a53b224a270ba2333703af0f0f" title="Pointer to the global state.">m_globalState</a>; }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_state_machine_aa304e7340207cdf0d92e2bcb5ec45a45_icgraph.png" border="0" usemap="#class_state_machine_aa304e7340207cdf0d92e2bcb5ec45a45_icgraph_map" alt=""></div>
<map name="class_state_machine_aa304e7340207cdf0d92e2bcb5ec45a45_icgraph_map" id="class_state_machine_aa304e7340207cdf0d92e2bcb5ec45a45_icgraph">
<area shape="rect" id="node3" href="class_state_machine.html#ab077f35ef0f9cab4b768d5a4ae35243d" title="function to register the state machine class using LuaBridge" alt="" coords="287,5,561,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3380723c39e22d97cb8042c3375fee58"></a><!-- doxytag: member="StateMachine::getPreviousState" ref="a3380723c39e22d97cb8042c3375fee58" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::getPreviousState </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the current state. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>const char*: the current state </dd></dl>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00067">67</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00067"></a>00067 { <span class="keywordflow">return</span> <a class="code" href="class_state_machine.html#ab54751ae389a97e58a2fa792f0fc8ddd" title="Pointer to the previous state.">m_previousState</a>; }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_state_machine_a3380723c39e22d97cb8042c3375fee58_icgraph.png" border="0" usemap="#class_state_machine_a3380723c39e22d97cb8042c3375fee58_icgraph_map" alt=""></div>
<map name="class_state_machine_a3380723c39e22d97cb8042c3375fee58_icgraph_map" id="class_state_machine_a3380723c39e22d97cb8042c3375fee58_icgraph">
<area shape="rect" id="node3" href="class_state_machine.html#ab077f35ef0f9cab4b768d5a4ae35243d" title="function to register the state machine class using LuaBridge" alt="" coords="303,5,577,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4389f22af59989f9a1b0f3ed01222273"></a><!-- doxytag: member="StateMachine::luaCallState" ref="a4389f22af59989f9a1b0f3ed01222273" args="(const char *_state, const char *_phase)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::luaCallState </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>_phase</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>function to lookup and call a lua function in a specified table from c++ </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_state,:</em>&nbsp;</td><td>the state table in lua to lookup </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_phase,:</em>&nbsp;</td><td>the 'phase' of the state reflecting a function in the lua table ie. exit </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00112">112</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00113"></a>00113   {
<a name="l00114"></a>00114     luabridge::LuaRef state = luabridge::getGlobal(<a class="code" href="class_state_machine.html#a2a5f9c533fb1e368a5e865623e14b31a" title="Pointer to the lua state passed in by the owner.">L</a>, _state);
<a name="l00115"></a>00115     state[_phase]();
<a name="l00116"></a>00116   }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_state_machine_a4389f22af59989f9a1b0f3ed01222273_icgraph.png" border="0" usemap="#class_state_machine_a4389f22af59989f9a1b0f3ed01222273_icgraph_map" alt=""></div>
<map name="class_state_machine_a4389f22af59989f9a1b0f3ed01222273_icgraph_map" id="class_state_machine_a4389f22af59989f9a1b0f3ed01222273_icgraph">
<area shape="rect" id="node3" href="class_state_machine.html#ae1d09b16ad3de9a387075fb661a15f62" title="function to change state by calling the exit function of the current state and then..." alt="" coords="265,5,551,35"/><area shape="rect" id="node5" href="class_state_machine.html#a1cb50dc462cfec1f5d07c797df0f5040" title="update function that checks the global state for changes and then the execute funciton..." alt="" coords="285,59,531,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab077f35ef0f9cab4b768d5a4ae35243d"></a><!-- doxytag: member="StateMachine::registerLua" ref="ab077f35ef0f9cab4b768d5a4ae35243d" args="(lua_State *_L)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::registerLua </td>
          <td>(</td>
          <td class="paramtype">lua_State *&nbsp;</td>
          <td class="paramname"> <em>_L</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>function to register the state machine class using LuaBridge </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_L,:</em>&nbsp;</td><td>the lua state to register the class to </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00140">140</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00141"></a>00141   {
<a name="l00142"></a>00142       luabridge::getGlobalNamespace(_L)
<a name="l00143"></a>00143           .beginClass&lt;<a class="code" href="class_state_machine.html" title="Templated scripted FSM to make agent decisions linked using LuaBridge.">StateMachine</a>&gt;(<span class="stringliteral">&quot;StateMachine&quot;</span>)
<a name="l00144"></a>00144                   .addFunction(<span class="stringliteral">&quot;changeState&quot;</span>, &amp;<a class="code" href="class_state_machine.html#ae1d09b16ad3de9a387075fb661a15f62" title="function to change state by calling the exit function of the current state and then...">StateMachine::changeState</a>)
<a name="l00145"></a>00145                   .addProperty(<span class="stringliteral">&quot;m_currentState&quot;</span>, &amp;<a class="code" href="class_state_machine.html#aa3c1537eeee6461a1803c10ab546ec8e" title="Gets the current state.">StateMachine::getCurrentState</a>, &amp;<a class="code" href="class_state_machine.html#abec3501cad25492137df9f32c5f71e4c" title="Sets the current state (of its owner).">StateMachine::setCurrentState</a>)
<a name="l00146"></a>00146                   .addProperty(<span class="stringliteral">&quot;m_previousState&quot;</span>, &amp;<a class="code" href="class_state_machine.html#a3380723c39e22d97cb8042c3375fee58" title="Gets the current state.">StateMachine::getPreviousState</a>, &amp;<a class="code" href="class_state_machine.html#a04158ed69b0b7ae4bdee9edaaf0aa796" title="Sets the previous state.">StateMachine::setPreviousState</a>)
<a name="l00147"></a>00147                   .addProperty(<span class="stringliteral">&quot;m_globalState&quot;</span>, &amp;<a class="code" href="class_state_machine.html#aa304e7340207cdf0d92e2bcb5ec45a45" title="Gets the current global state.">StateMachine::getGlobalState</a>, &amp;<a class="code" href="class_state_machine.html#a373b812ee57cfbb4fc7393247b4afc5b" title="Sets the global state.">StateMachine::setGlobalState</a>)
<a name="l00148"></a>00148 
<a name="l00149"></a>00149           .endClass();
<a name="l00150"></a>00150   }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_state_machine_ab077f35ef0f9cab4b768d5a4ae35243d_icgraph.png" border="0" usemap="#class_state_machine_ab077f35ef0f9cab4b768d5a4ae35243d_icgraph_map" alt=""></div>
<map name="class_state_machine_ab077f35ef0f9cab4b768d5a4ae35243d_icgraph_map" id="class_state_machine_ab077f35ef0f9cab4b768d5a4ae35243d_icgraph">
<area shape="rect" id="node3" href="class_state_machine.html#a546b9180b13bcfdde4020ebd625b20ca" title="StateMachine ctor gets the lua state from its owner to register its functions." alt="" coords="260,5,553,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abec3501cad25492137df9f32c5f71e4c"></a><!-- doxytag: member="StateMachine::setCurrentState" ref="abec3501cad25492137df9f32c5f71e4c" args="(const char *_inState)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::setCurrentState </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>_inState</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the current state (of its owner). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_instate,:</em>&nbsp;</td><td>pass in the state to set current state to </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00052">52</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00052"></a>00052 { <a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a> = _inState; }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_state_machine_abec3501cad25492137df9f32c5f71e4c_icgraph.png" border="0" usemap="#class_state_machine_abec3501cad25492137df9f32c5f71e4c_icgraph_map" alt=""></div>
<map name="class_state_machine_abec3501cad25492137df9f32c5f71e4c_icgraph_map" id="class_state_machine_abec3501cad25492137df9f32c5f71e4c_icgraph">
<area shape="rect" id="node3" href="class_state_machine.html#ab077f35ef0f9cab4b768d5a4ae35243d" title="function to register the state machine class using LuaBridge" alt="" coords="297,5,572,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a373b812ee57cfbb4fc7393247b4afc5b"></a><!-- doxytag: member="StateMachine::setGlobalState" ref="a373b812ee57cfbb4fc7393247b4afc5b" args="(const char *_inState)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::setGlobalState </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>_inState</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the global state. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_inState,:</em>&nbsp;</td><td>pass in the state to set global state to </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00072">72</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00072"></a>00072 { <a class="code" href="class_state_machine.html#af869f4a53b224a270ba2333703af0f0f" title="Pointer to the global state.">m_globalState</a> = _inState; }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_state_machine_a373b812ee57cfbb4fc7393247b4afc5b_icgraph.png" border="0" usemap="#class_state_machine_a373b812ee57cfbb4fc7393247b4afc5b_icgraph_map" alt=""></div>
<map name="class_state_machine_a373b812ee57cfbb4fc7393247b4afc5b_icgraph_map" id="class_state_machine_a373b812ee57cfbb4fc7393247b4afc5b_icgraph">
<area shape="rect" id="node3" href="class_state_machine.html#ab077f35ef0f9cab4b768d5a4ae35243d" title="function to register the state machine class using LuaBridge" alt="" coords="284,5,559,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a04158ed69b0b7ae4bdee9edaaf0aa796"></a><!-- doxytag: member="StateMachine::setPreviousState" ref="a04158ed69b0b7ae4bdee9edaaf0aa796" args="(const char *_inState)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::setPreviousState </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>_inState</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the previous state. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_inState,:</em>&nbsp;</td><td>pass in the state to set previous state to </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00062">62</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00062"></a>00062 { <a class="code" href="class_state_machine.html#ab54751ae389a97e58a2fa792f0fc8ddd" title="Pointer to the previous state.">m_previousState</a> = _inState; }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_state_machine_a04158ed69b0b7ae4bdee9edaaf0aa796_icgraph.png" border="0" usemap="#class_state_machine_a04158ed69b0b7ae4bdee9edaaf0aa796_icgraph_map" alt=""></div>
<map name="class_state_machine_a04158ed69b0b7ae4bdee9edaaf0aa796_icgraph_map" id="class_state_machine_a04158ed69b0b7ae4bdee9edaaf0aa796_icgraph">
<area shape="rect" id="node3" href="class_state_machine.html#ab077f35ef0f9cab4b768d5a4ae35243d" title="function to register the state machine class using LuaBridge" alt="" coords="303,5,577,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1cb50dc462cfec1f5d07c797df0f5040"></a><!-- doxytag: member="StateMachine::update" ref="a1cb50dc462cfec1f5d07c797df0f5040" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::update </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>update function that checks the global state for changes and then the execute funciton of the current state </p>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00082">82</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00083"></a>00083   {
<a name="l00084"></a>00084     <span class="comment">//check global state in lua for variable or state changes that apply to every state</span>
<a name="l00085"></a>00085     <span class="keywordflow">if</span> (<a class="code" href="class_state_machine.html#af869f4a53b224a270ba2333703af0f0f" title="Pointer to the global state.">m_globalState</a>)
<a name="l00086"></a>00086     {
<a name="l00087"></a>00087       <a class="code" href="class_state_machine.html#a4389f22af59989f9a1b0f3ed01222273" title="function to lookup and call a lua function in a specified table from c++">luaCallState</a>(<a class="code" href="class_state_machine.html#af869f4a53b224a270ba2333703af0f0f" title="Pointer to the global state.">m_globalState</a>, <span class="stringliteral">&quot;execute&quot;</span>);
<a name="l00088"></a>00088     }
<a name="l00089"></a>00089 
<a name="l00090"></a>00090     <span class="comment">//call enter on first tick to set state behaviours</span>
<a name="l00091"></a>00091     <span class="keywordflow">if</span>(!<a class="code" href="class_state_machine.html#ab54751ae389a97e58a2fa792f0fc8ddd" title="Pointer to the previous state.">m_previousState</a> &amp;&amp; <a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a>)
<a name="l00092"></a>00092     {
<a name="l00093"></a>00093       <a class="code" href="class_state_machine.html#a4389f22af59989f9a1b0f3ed01222273" title="function to lookup and call a lua function in a specified table from c++">luaCallState</a>(<a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a>, <span class="stringliteral">&quot;enter&quot;</span>);
<a name="l00094"></a>00094       <a class="code" href="class_state_machine.html#ab54751ae389a97e58a2fa792f0fc8ddd" title="Pointer to the previous state.">m_previousState</a> = <a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a>;
<a name="l00095"></a>00095     }
<a name="l00096"></a>00096 
<a name="l00097"></a>00097     <span class="comment">//call execute function of current state to check for variable or state changes</span>
<a name="l00098"></a>00098     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a>)
<a name="l00099"></a>00099     {
<a name="l00100"></a>00100       <a class="code" href="class_state_machine.html#a4389f22af59989f9a1b0f3ed01222273" title="function to lookup and call a lua function in a specified table from c++">luaCallState</a>(<a class="code" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79" title="Pointer to the current state.">m_currentState</a>, <span class="stringliteral">&quot;execute&quot;</span>);
<a name="l00101"></a>00101     }
<a name="l00102"></a>00102 
<a name="l00103"></a>00103     <span class="comment">//check agent properties against limits set in lua i.e. health not rising above 100</span>
<a name="l00104"></a>00104     <a class="code" href="class_state_machine.html#a4389f22af59989f9a1b0f3ed01222273" title="function to lookup and call a lua function in a specified table from c++">luaCallState</a>(<span class="stringliteral">&quot;limits&quot;</span>, <span class="stringliteral">&quot;check&quot;</span>);
<a name="l00105"></a>00105   }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_state_machine_a1cb50dc462cfec1f5d07c797df0f5040_icgraph.png" border="0" usemap="#class_state_machine_a1cb50dc462cfec1f5d07c797df0f5040_icgraph_map" alt=""></div>
<map name="class_state_machine_a1cb50dc462cfec1f5d07c797df0f5040_icgraph_map" id="class_state_machine_a1cb50dc462cfec1f5d07c797df0f5040_icgraph">
<area shape="rect" id="node3" href="class_rioter.html#ac71359ecf513d1469f9acaada7ea82b7" title="Method to update the rioter at every tick." alt="" coords="397,5,520,35"/><area shape="rect" id="node11" href="class_police.html#a8634d39f8f876b75c272e63929e2c409" title="Method to update each policeman at every tick." alt="" coords="229,59,349,88"/><area shape="rect" id="node5" href="class_game_world.html#a96e64d52c55c86a7126120d537aa1676" title="updates all of the entities in the world, the cells in the cell graph and checks..." alt="" coords="568,32,725,61"/><area shape="rect" id="node7" href="class_n_g_l_draw.html#a67d742ec0e034dd6fe8f092d0da66d16" title="update the scene" alt="" coords="775,32,916,61"/><area shape="rect" id="node9" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="967,32,1020,61"/><area shape="rect" id="node13" href="class_squad.html#afcce35cf4acef99103130aa306660274" title="Method to update the squad every tick." alt="" coords="399,59,519,88"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a2a5f9c533fb1e368a5e865623e14b31a"></a><!-- doxytag: member="StateMachine::L" ref="a2a5f9c533fb1e368a5e865623e14b31a" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">lua_State* <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::<a class="el" href="class_state_machine.html#a2a5f9c533fb1e368a5e865623e14b31a">L</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer to the lua state passed in by the owner. </p>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00173">173</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

</div>
</div>
<a class="anchor" id="a70d498f9916a5fc2fa78f9bc15c0cb79"></a><!-- doxytag: member="StateMachine::m_currentState" ref="a70d498f9916a5fc2fa78f9bc15c0cb79" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::<a class="el" href="class_state_machine.html#a70d498f9916a5fc2fa78f9bc15c0cb79">m_currentState</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer to the current state. </p>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00161">161</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

</div>
</div>
<a class="anchor" id="af869f4a53b224a270ba2333703af0f0f"></a><!-- doxytag: member="StateMachine::m_globalState" ref="af869f4a53b224a270ba2333703af0f0f" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::<a class="el" href="class_state_machine.html#af869f4a53b224a270ba2333703af0f0f">m_globalState</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer to the global state. </p>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00169">169</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

</div>
</div>
<a class="anchor" id="a06fef4171fc329aab7949de019d09692"></a><!-- doxytag: member="StateMachine::m_owner" ref="a06fef4171fc329aab7949de019d09692" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a>* <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::<a class="el" href="class_state_machine.html#a06fef4171fc329aab7949de019d09692">m_owner</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer to the state machine owner. </p>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00157">157</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab54751ae389a97e58a2fa792f0fc8ddd"></a><!-- doxytag: member="StateMachine::m_previousState" ref="ab54751ae389a97e58a2fa792f0fc8ddd" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class entityType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="class_state_machine.html">StateMachine</a>&lt; <a class="el" href="_base_game_entity_8h.html#ac25bae40f86dbaf62807318d4042d75c">entityType</a> &gt;::<a class="el" href="class_state_machine.html#ab54751ae389a97e58a2fa792f0fc8ddd">m_previousState</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer to the previous state. </p>

<p>Definition at line <a class="el" href="_state_machine_8h_source.html#l00165">165</a> of file <a class="el" href="_state_machine_8h_source.html">StateMachine.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_state_machine_8h_source.html">StateMachine.h</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 11 May 2015 for YOURPROJECTNAMEGOESHERE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
